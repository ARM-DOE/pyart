
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Creating a basic ingest of a NetCDF file &#8212; Py-ART 0.0.0 documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pyart-theme.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/doc_shared.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Field manipulation and Saving the Radar Object to a file." href="changing_fields_and_saving.html" />
    <link rel="prev" title="Notebook Gallery" href="../notebook-gallery.html" /> 
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-JJEG3CV376"></script>
<script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){ dataLayer.push(arguments); }
                    gtag('js', new Date());
                    gtag('config', 'G-JJEG3CV376');
                </script>
 
<link
  rel="alternate"
  type="application/atom+xml"
  href="../blog/atom.xml"
  title="PyART Blog"
/>
 
<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    
    <div class="container-fluid" id="banner"></div>

    
  <nav class="navbar navbar-dark navbar-expand-lg bg-arm fixed-top bd-navbar shadow" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    
<a class="navbar-brand" href="../index.html">
<p class="title">Py-ART</p>
</a>

    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../userguide/index.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../API/index.html">
  API Reference Manual
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../examples/index.html">
  Example Gallery
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../notebook-gallery.html">
  Notebook Gallery
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../blog.html">
  Blog
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../changelog.html">
  Changelog
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/ARM-DOE/pyart" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/Py_ART" rel="noopener" target="_blank" title="Twitter"><span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
  </nav>


    <div class="container-fluid" id="banner"></div>


    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Notebooks
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Creating a basic ingest of a NetCDF file
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="changing_fields_and_saving.html">
   Field manipulation and Saving the Radar Object to a file.
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="dealiasing_velocity.html">
   Dealiasing Velocity
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="mapping_data_to_a_cartesian_grid.html">
   Mapping Data to a Cartesian Grid
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="masking_data_with_gatefilters.html">
   Masking Data With Py-ART Gatefilters
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="the_pyart_radar_object_and_indexing.html">
   The Py-ART Radar object and indexing
  </a>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                

<nav id="bd-toc-nav">
    
</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                 <section class="tex2jax_ignore mathjax_ignore" id="creating-a-basic-ingest-of-a-netcdf-file">
<h1>Creating a basic ingest of a NetCDF file<a class="headerlink" href="#creating-a-basic-ingest-of-a-netcdf-file" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### Sometimes a file might be in the netCDF file format but not conform to cfradial standards and can&#39;t</span>
<span class="c1">### be read with Py-ART. One way of working around this is to create a basic ingest, here is a hypothetically</span>
<span class="c1">### example, this file can be read with Py-ART, but lets act like it doesn&#39;t! :)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">netCDF4</span>
<span class="kn">import</span> <span class="nn">pyart</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>## You are using the Python ARM Radar Toolkit (Py-ART), an open source
## library for working with weather radar data. Py-ART is partly
## supported by the U.S. Department of Energy as part of the Atmospheric
## Radiation Measurement (ARM) Climate Research Facility, an Office of
## Science user facility.
##
## If you use this software to prepare a publication, please cite:
##
##     JJ Helmus and SM Collis, JORS 2016, doi: 10.5334/jors.119
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We will read the nc data with netCDF4.Dataset</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">netCDF4</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;test_radar.nc&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Lets get an idea of the shapes for rays and gates and the keys in this dataset.</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">variables</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dict_keys([&#39;time&#39;, &#39;range&#39;, &#39;azimuth&#39;, &#39;elevation&#39;, &#39;corrected_reflectivity_horizontal&#39;, &#39;reflectivity_horizontal&#39;, &#39;recalculated_diff_phase&#39;, &#39;specific_attenuation&#39;, &#39;unf_dp_phase_shift&#39;, &#39;mean_doppler_velocity&#39;, &#39;diff_phase&#39;, &#39;rain_rate_A&#39;, &#39;norm_coherent_power&#39;, &#39;dp_phase_shift&#39;, &#39;diff_reflectivity&#39;, &#39;proc_dp_phase_shift&#39;, &#39;copol_coeff&#39;, &#39;sweep_number&#39;, &#39;fixed_angle&#39;, &#39;sweep_start_ray_index&#39;, &#39;sweep_end_ray_index&#39;, &#39;sweep_mode&#39;, &#39;latitude&#39;, &#39;longitude&#39;, &#39;altitude&#39;, &#39;time_coverage_start&#39;, &#39;time_coverage_end&#39;, &#39;time_reference&#39;, &#39;volume_number&#39;, &#39;platform_type&#39;, &#39;instrument_type&#39;, &#39;primary_axis&#39;])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;azimuth&#39;</span><span class="p">][:]</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(400,)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;range&#39;</span><span class="p">][:]</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(667,)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make a empty radar with the dimensions of the dataset.</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">radar</span> <span class="o">=</span> <span class="n">pyart</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">make_empty_ppi_radar</span><span class="p">(</span><span class="mi">667</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Start filling the radar attributes with variables in the dataset.</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">radar</span><span class="o">.</span><span class="n">time</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">][:])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">][:]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>masked_array(data=-97.59416667,
             mask=False,
       fill_value=1e+20)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">radar</span><span class="o">.</span><span class="n">latitude</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">][:]])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">radar</span><span class="o">.</span><span class="n">longitude</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">][:]])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">radar</span><span class="o">.</span><span class="n">longitude</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([-97.59416667])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">radar</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;range&#39;</span><span class="p">][:])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sometimes the dataset might just contain gate spacing, but if the gate spacing is uniform,</span>
<span class="c1"># there is a way around it, we see a gate spacing of 60 above.</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">radar</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">60.0</span><span class="o">*</span><span class="p">(</span><span class="mi">667</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="mi">667</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># As you can see below we obtained the same range data. This isn&#39;t needed</span>
<span class="c1"># if the range data is present, but using gate spacing and ngates is another way around it.</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">radar</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([    0.,    60.,   120.,   180.,   240.,   300.,   360.,   420.,
         480.,   540.,   600.,   660.,   720.,   780.,   840.,   900.,
         960.,  1020.,  1080.,  1140.,  1200.,  1260.,  1320.,  1380.,
        1440.,  1500.,  1560.,  1620.,  1680.,  1740.,  1800.,  1860.,
        1920.,  1980.,  2040.,  2100.,  2160.,  2220.,  2280.,  2340.,
        2400.,  2460.,  2520.,  2580.,  2640.,  2700.,  2760.,  2820.,
        2880.,  2940.,  3000.,  3060.,  3120.,  3180.,  3240.,  3300.,
        3360.,  3420.,  3480.,  3540.,  3600.,  3660.,  3720.,  3780.,
        3840.,  3900.,  3960.,  4020.,  4080.,  4140.,  4200.,  4260.,
        4320.,  4380.,  4440.,  4500.,  4560.,  4620.,  4680.,  4740.,
        4800.,  4860.,  4920.,  4980.,  5040.,  5100.,  5160.,  5220.,
        5280.,  5340.,  5400.,  5460.,  5520.,  5580.,  5640.,  5700.,
        5760.,  5820.,  5880.,  5940.,  6000.,  6060.,  6120.,  6180.,
        6240.,  6300.,  6360.,  6420.,  6480.,  6540.,  6600.,  6660.,
        6720.,  6780.,  6840.,  6900.,  6960.,  7020.,  7080.,  7140.,
        7200.,  7260.,  7320.,  7380.,  7440.,  7500.,  7560.,  7620.,
        7680.,  7740.,  7800.,  7860.,  7920.,  7980.,  8040.,  8100.,
        8160.,  8220.,  8280.,  8340.,  8400.,  8460.,  8520.,  8580.,
        8640.,  8700.,  8760.,  8820.,  8880.,  8940.,  9000.,  9060.,
        9120.,  9180.,  9240.,  9300.,  9360.,  9420.,  9480.,  9540.,
        9600.,  9660.,  9720.,  9780.,  9840.,  9900.,  9960., 10020.,
       10080., 10140., 10200., 10260., 10320., 10380., 10440., 10500.,
       10560., 10620., 10680., 10740., 10800., 10860., 10920., 10980.,
       11040., 11100., 11160., 11220., 11280., 11340., 11400., 11460.,
       11520., 11580., 11640., 11700., 11760., 11820., 11880., 11940.,
       12000., 12060., 12120., 12180., 12240., 12300., 12360., 12420.,
       12480., 12540., 12600., 12660., 12720., 12780., 12840., 12900.,
       12960., 13020., 13080., 13140., 13200., 13260., 13320., 13380.,
       13440., 13500., 13560., 13620., 13680., 13740., 13800., 13860.,
       13920., 13980., 14040., 14100., 14160., 14220., 14280., 14340.,
       14400., 14460., 14520., 14580., 14640., 14700., 14760., 14820.,
       14880., 14940., 15000., 15060., 15120., 15180., 15240., 15300.,
       15360., 15420., 15480., 15540., 15600., 15660., 15720., 15780.,
       15840., 15900., 15960., 16020., 16080., 16140., 16200., 16260.,
       16320., 16380., 16440., 16500., 16560., 16620., 16680., 16740.,
       16800., 16860., 16920., 16980., 17040., 17100., 17160., 17220.,
       17280., 17340., 17400., 17460., 17520., 17580., 17640., 17700.,
       17760., 17820., 17880., 17940., 18000., 18060., 18120., 18180.,
       18240., 18300., 18360., 18420., 18480., 18540., 18600., 18660.,
       18720., 18780., 18840., 18900., 18960., 19020., 19080., 19140.,
       19200., 19260., 19320., 19380., 19440., 19500., 19560., 19620.,
       19680., 19740., 19800., 19860., 19920., 19980., 20040., 20100.,
       20160., 20220., 20280., 20340., 20400., 20460., 20520., 20580.,
       20640., 20700., 20760., 20820., 20880., 20940., 21000., 21060.,
       21120., 21180., 21240., 21300., 21360., 21420., 21480., 21540.,
       21600., 21660., 21720., 21780., 21840., 21900., 21960., 22020.,
       22080., 22140., 22200., 22260., 22320., 22380., 22440., 22500.,
       22560., 22620., 22680., 22740., 22800., 22860., 22920., 22980.,
       23040., 23100., 23160., 23220., 23280., 23340., 23400., 23460.,
       23520., 23580., 23640., 23700., 23760., 23820., 23880., 23940.,
       24000., 24060., 24120., 24180., 24240., 24300., 24360., 24420.,
       24480., 24540., 24600., 24660., 24720., 24780., 24840., 24900.,
       24960., 25020., 25080., 25140., 25200., 25260., 25320., 25380.,
       25440., 25500., 25560., 25620., 25680., 25740., 25800., 25860.,
       25920., 25980., 26040., 26100., 26160., 26220., 26280., 26340.,
       26400., 26460., 26520., 26580., 26640., 26700., 26760., 26820.,
       26880., 26940., 27000., 27060., 27120., 27180., 27240., 27300.,
       27360., 27420., 27480., 27540., 27600., 27660., 27720., 27780.,
       27840., 27900., 27960., 28020., 28080., 28140., 28200., 28260.,
       28320., 28380., 28440., 28500., 28560., 28620., 28680., 28740.,
       28800., 28860., 28920., 28980., 29040., 29100., 29160., 29220.,
       29280., 29340., 29400., 29460., 29520., 29580., 29640., 29700.,
       29760., 29820., 29880., 29940., 30000., 30060., 30120., 30180.,
       30240., 30300., 30360., 30420., 30480., 30540., 30600., 30660.,
       30720., 30780., 30840., 30900., 30960., 31020., 31080., 31140.,
       31200., 31260., 31320., 31380., 31440., 31500., 31560., 31620.,
       31680., 31740., 31800., 31860., 31920., 31980., 32040., 32100.,
       32160., 32220., 32280., 32340., 32400., 32460., 32520., 32580.,
       32640., 32700., 32760., 32820., 32880., 32940., 33000., 33060.,
       33120., 33180., 33240., 33300., 33360., 33420., 33480., 33540.,
       33600., 33660., 33720., 33780., 33840., 33900., 33960., 34020.,
       34080., 34140., 34200., 34260., 34320., 34380., 34440., 34500.,
       34560., 34620., 34680., 34740., 34800., 34860., 34920., 34980.,
       35040., 35100., 35160., 35220., 35280., 35340., 35400., 35460.,
       35520., 35580., 35640., 35700., 35760., 35820., 35880., 35940.,
       36000., 36060., 36120., 36180., 36240., 36300., 36360., 36420.,
       36480., 36540., 36600., 36660., 36720., 36780., 36840., 36900.,
       36960., 37020., 37080., 37140., 37200., 37260., 37320., 37380.,
       37440., 37500., 37560., 37620., 37680., 37740., 37800., 37860.,
       37920., 37980., 38040., 38100., 38160., 38220., 38280., 38340.,
       38400., 38460., 38520., 38580., 38640., 38700., 38760., 38820.,
       38880., 38940., 39000., 39060., 39120., 39180., 39240., 39300.,
       39360., 39420., 39480., 39540., 39600., 39660., 39720., 39780.,
       39840., 39900., 39960.])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">radar</span><span class="o">.</span><span class="n">fixed_angle</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;fixed_angle&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">radar</span><span class="o">.</span><span class="n">sweep_number</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;sweep_number&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">radar</span><span class="o">.</span><span class="n">sweep_start_ray_index</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;sweep_start_ray_index&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">radar</span><span class="o">.</span><span class="n">sweep_end_ray_index</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;sweep_end_ray_index&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">radar</span><span class="o">.</span><span class="n">altitude</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;altitude&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">radar</span><span class="o">.</span><span class="n">azimuth</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;azimuth&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">radar</span><span class="o">.</span><span class="n">sweep_mode</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;sweep_mode&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;fixed_angle&#39;</span><span class="p">][:]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>masked_array(data=[3.5],
             mask=False,
       fill_value=1e+20)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># If elevation doesn&#39;t exist, but fixed angle doesn&#39;t, you can do</span>
<span class="c1"># fixed angle multiplied by nrays</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">radar</span><span class="o">.</span><span class="n">elevation</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;fixed_angle&#39;</span><span class="p">][:]]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;azimuth&#39;</span><span class="p">][:]))</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># With elevation and azimuth in the radar object, lets recalculate</span>
<span class="c1"># gate latitude, longitude and altitude,</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">radar</span><span class="o">.</span><span class="n">init_gate_altitude</span><span class="p">()</span>
<span class="n">radar</span><span class="o">.</span><span class="n">init_gate_longitude_latitude</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">radar</span><span class="o">.</span><span class="n">gate_longitude</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[-97.59416667, -97.59416776, -97.59416886, ..., -97.59489769,
        -97.59489879, -97.5948999 ],
       [-97.59416667, -97.59415662, -97.59414657, ..., -97.5874659 ,
        -97.58745576, -97.58744563],
       [-97.59416667, -97.59414621, -97.59412575, ..., -97.5805231 ,
        -97.58050246, -97.58048182],
       ...,
       [-97.59416667, -97.59419881, -97.59423095, ..., -97.61560159,
        -97.61563401, -97.61566644],
       [-97.59416667, -97.59418877, -97.59421087, ..., -97.6089062 ,
        -97.6089285 , -97.60895079],
       [-97.59416667, -97.59417836, -97.59419005, ..., -97.60196382,
        -97.60197561, -97.60198741]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s work on the field data, we will just do reflectivity for now, but any of the</span>
<span class="c1"># other fields can be done the same way and added as a key pair in the fields dict.</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyart.config</span> <span class="kn">import</span> <span class="n">get_metadata</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ref_dict</span> <span class="o">=</span> <span class="n">get_metadata</span><span class="p">(</span><span class="s1">&#39;reflecitivity_horizontal&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ref_dict</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;reflectivity_horizontal&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ref_dict</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[ -6.21875  ,   1.34375  ,  -8.0078125, ...,  -1.2109375,
          1.1171875,   1.59375  ],
       [ -6.2109375,   1.421875 ,  -8.5625   , ...,   2.34375  ,
         -0.7109375,   0.609375 ],
       [ -6.2109375,  -0.5078125,  -9.3828125, ...,  -0.6875   ,
         -2.328125 ,  -0.3203125],
       ...,
       [ -6.21875  ,   2.       ,  -9.21875  , ...,   0.859375 ,
         -6.6484375,  -1.328125 ],
       [ -6.2109375,   1.8515625, -10.25     , ...,   0.9375   ,
         -1.75     ,  -0.0234375],
       [ -6.21875  ,   1.6328125,  -8.2890625, ...,  -2.546875 ,
         -1.578125 ,   0.6796875]], dtype=float32)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">radar</span><span class="o">.</span><span class="n">fields</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;reflectivity_horizontal&#39;</span><span class="p">:</span> <span class="n">ref_dict</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Now what does that data look like plotted with Py-ART, also confirm if it works.</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">display</span> <span class="o">=</span> <span class="n">pyart</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">RadarMapDisplay</span><span class="p">(</span><span class="n">radar</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">display</span><span class="o">.</span><span class="n">plot_ppi</span><span class="p">(</span><span class="s1">&#39;reflectivity_horizontal&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/basic_ingest_using_test_radar_object_44_0.png" src="../_images/basic_ingest_using_test_radar_object_44_0.png" />
</div>
</div>
</section>

<div class="section">
   
</div>

              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../notebook-gallery.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Notebook Gallery</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="changing_fields_and_saving.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Field manipulation and Saving the Radar Object to a file.</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2013-2022, Py-ART developers.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>